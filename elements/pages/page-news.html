

<dom-module id="page-news">
  <style>
    :host {
      display: block;
    }

    page-new-card{
      margin-bottom: 20px;
    }

  </style>
  <template>
      <iron-ajax id="loadNews"
        auto
        url="/demo.json?q={{query}}"
        handle-as="json"
        on-response="handleResponse"
        lastResponse="{{respuesta}}"
        ></iron-ajax>

      <template is="dom-repeat" items="{{items}}" index-as="index">
          <animation-tag animation="slideInUp">
            <page-new-card item="{{item}}" index="{{index}}"></page-new-card>
        </animation-tag>
      </template>

  </template>
</dom-module>
<script>
  (function () {
    Polymer({
      is: 'page-news',
      properties: {
        items: {
          type: Array,
          notify: true,
        }
      },
      ready: function() {

      },
      handleResponse: function(request){
        this.items = request.detail.response.responseData.entries;
      }
    });
  })();
</script>
